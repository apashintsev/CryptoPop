!function(){return function e(t,n,r){function a(s,i){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!i&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return a(t[s][1][e]||e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)a(r[s]);return a}}()({1:[function(e,t,n){"use strict";function r(e,t,n,r,a,o,s){try{var i=e[o](s),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,a)}t.exports=function(e){return function(){var t=this,n=arguments;return new Promise(function(a,o){var s=e.apply(t,n);function i(e){r(s,a,o,i,u,"next",e)}function u(e){r(s,a,o,i,u,"throw",e)}i(void 0)})}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],2:[function(e,t,n){"use strict";t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],3:[function(e,t,n){"use strict";function r(e){return t.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},{}],4:[function(e,t,n){"use strict";t.exports=e("regenerator-runtime")},{"regenerator-runtime":5}],5:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/typeof")),a=function(e){var t,n=Object.prototype,a=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),s=new I(r||[]);return o._invoke=function(e,t,n){var r=d;return function(a,o){if(r===y)throw new Error("Generator is already running");if(r===m){if("throw"===a)throw o;return O()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var i=L(s,n);if(i){if(i===h)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=y;var u=p(e,t,n);if("normal"===u.type){if(r=n.done?m:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=m,n.method="throw",n.arg=u.arg)}}}(e,n,s),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",y="executing",m="completed",h={};function v(){}function g(){}function w(){}var b={};c(b,s,function(){return this});var x=Object.getPrototypeOf,T=x&&x(x(A([])));T&&T!==n&&a.call(T,s)&&(b=T);var k=w.prototype=v.prototype=Object.create(b);function M(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var n;this._invoke=function(o,s){function i(){return new t(function(n,i){!function n(o,s,i,u){var c=p(e[o],e,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"===(0,r.default)(d)&&a.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,i,u)},function(e){n("throw",e,i,u)}):t.resolve(d).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,u)})}u(c.arg)}(o,s,n,i)})}return n=n?n.then(i,i):i()}}function L(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=p(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(a.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:t,done:!0}}return g.prototype=w,c(k,"constructor",w),c(w,"constructor",g),g.displayName=c(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},M(E.prototype),c(E.prototype,i,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var s=new E(l(t,n,r,a),o);return e.isGeneratorFunction(n)?s:s.next().then(function(e){return e.done?e.value:s.next()})},M(k),c(k,u,"Generator"),c(k,s,function(){return this}),c(k,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return i.type="throw",i.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],i=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=a.call(s,"catchLoc"),c=a.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}("object"===(void 0===t?"undefined":(0,r.default)(t))?t.exports:{});try{regeneratorRuntime=a}catch(e){"object"===("undefined"==typeof globalThis?"undefined":(0,r.default)(globalThis))?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},{"@babel/runtime/helpers/interopRequireDefault":2,"@babel/runtime/helpers/typeof":3}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ABI=void 0;n.ABI=[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"cost","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"hiddenMetadataUri","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxMintAmountPerAddress","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxMintAmountPerTx","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"maxSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_mintAmount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_mintAmount","type":"uint256"},{"internalType":"address","name":"_receiver","type":"address"}],"name":"mintForAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"revealed","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_cost","type":"uint256"}],"name":"setCost","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_hiddenMetadataUri","type":"string"}],"name":"setHiddenMetadataUri","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxMintAmountPerTx","type":"uint256"}],"name":"setMaxMintAmountPerTx","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_state","type":"bool"}],"name":"setPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_state","type":"bool"}],"name":"setRevealed","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_uriPrefix","type":"string"}],"name":"setUriPrefix","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_uriSuffix","type":"string"}],"name":"setUriSuffix","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newmaxMintAmount","type":"uint256"}],"name":"setmaxMintAmountPerAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"uriPrefix","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"uriSuffix","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"walletOfOwner","outputs":[{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]},{}],7:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.toggleConnected=n.showMessage=n.round=n.postData=void 0;var a=r(e("@babel/runtime/regenerator")),o=r(e("@babel/runtime/helpers/asyncToGenerator")),s=function(){var e=(0,o.default)(a.default.mark(function e(){var t,n,r,o=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=4,fetch(t,{method:"POST",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json;charset=utf-8"},redirect:"follow",body:JSON.stringify(n)});case 4:return r=e.sent,e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();n.postData=s;n.toggleConnected=function(e){e?document.body.classList.replace("not-connected","is-connected"):document.body.classList.replace("is-connected","not-connected")};n.round=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return e=Math.round(e+"e"+t),Number(e+"e"+-t)};n.showMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,r=document.getElementById("message");null!==r&&(r.innerHTML=e,r.classList.add("active",t)),n>0&&setTimeout(i,5e3)};var i=function(){var e=document.getElementById("message");null!==e&&(e.innerHTML="",e.classList.remove("active","error","success","warning"))}},{"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/interopRequireDefault":2,"@babel/runtime/regenerator":4}],8:[function(e,t,n){"use strict";var r=e("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(n,"__esModule",{value:!0}),n.signWithWeb3=n.signDataWithWeb3=void 0;var a,o,s,i,u,c,l,p,d,f=r(e("@babel/runtime/regenerator")),y=r(e("@babel/runtime/helpers/asyncToGenerator")),m=e("./abi"),h=e("./common"),v="https://cryptopop.club/api/v1/",g=["Closed","Presale","Public"],w={1:"Mainnet",3:"Ropsten",4:"Rinkeby",5:"Goerli",56:"Binance Smart Chain",137:"Polygon"},b=!1,x=1,T=333,k=1,M=function(){var e=(0,y.default)(f.default.mark(function e(t,n){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.eth.abi.encodeParameter("bytes32",o.eth.abi.encodeParameter("address",n)),e.next=3,o.eth.sign(r,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();n.signWithWeb3=M;var E=function(){var e=(0,y.default)(f.default.mark(function e(t,n){var r;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.eth.abi.encodeParameter("bytes64",o.eth.abi.encodeParameter("string",n)),e.next=3,o.eth.sign(r,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();n.signDataWithWeb3=E;var L=function(e){if(1==e)return"https://etherscan.io/";var t=w[e].toLowerCase();return"https://".concat(t,".etherscan.io/")},_=function(){return window.ethereum?(o=new Web3(window.ethereum),console.log("using standalone Web3"),!0):(console.log("eth disabled"),!1)},S=function(){var e=(0,y.default)(f.default.mark(function e(){var t,n,r,s,i,y=arguments;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y.length>0&&void 0!==y[0]&&y[0],!b){e.next=38;break}return console.log("refresh"),n=document.getElementById("state"),r=document.getElementById("maxsupplyval"),s=document.getElementById("wallet"),i=document.getElementById("progressbar"),d=document.getElementById("priceval"),e.next=10,b.methods.state.call().call();case 10:if(c=e.sent,!b.methods.hasOwnProperty("getPrice")){e.next=17;break}return e.next=14,b.methods.getPrice(1).call();case 14:e.t0=e.sent,e.next=18;break;case 17:e.t0=o.utils.toBN(0);case 18:return u=e.t0,e.next=21,b.methods.totalSupply().call();case 21:return l=e.sent,l=o.utils.toBN(l),e.next=25,b.methods.numMinted(a).call();case 25:return p=e.sent,p=o.utils.toBN(p),e.next=29,b.methods.MAX_ELEMENTS.call().call();case 29:e.t1=e.sent,T=e.t1-1,!0===t&&r&&(r.value=T),s&&a&&(s.innerText=a),R(x),n&&(n.innerText=g[c]),d&&!0===t&&(d.value=o.utils.fromWei(u).toString(),console.log(u.toString())),i&&(i.style.width=Math.round(l.toNumber()/T*100).toString()+"%");case 38:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){var e=(0,y.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:o.utils.numberToHex(5)}]});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),(0,h.showMessage)("User rejected chain switch","error");case 9:case"end":return e.stop()}},e,null,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),A=function(e){0===e.length?((0,h.showMessage)("Connect to MetaMask!","error"),(0,h.toggleConnected)(!1)):e[0]!==a?(a=e[0],console.log("Account changed to ",a)):console.log("Same account")},O=function(){var e=(0,y.default)(f.default.mark(function e(){var t;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return t=e.sent,A(t),e.next=7,o.eth.getChainId();case 7:if(5===(s=e.sent)){e.next=12;break}return(0,h.showMessage)("Wrong chain (".concat(w[s],"), connect to ")+w[5],"error"),e.next=12,I();case 12:return document.body.classList.replace("not-connected","is-connected"),e.abrupt("return",t);case 16:e.prev=16,e.t0=e.catch(0),4001==e.t0.code&&console.error(e.t0);case 19:case"end":return e.stop()}},e,null,[[0,16]])}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,y.default)(f.default.mark(function e(){var t;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.eth.getAccounts();case 2:return t=e.sent,console.log("Web3 accs: ",t),console.log(a),e.abrupt("return",t.length>0);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=(0,y.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.eth.getChainId();case 2:return s=e.sent,e.abrupt("return",5==s);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,y.default)(f.default.mark(function e(){var t,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"users?sig=").concat(i),{});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,y.default)(f.default.mark(function e(t){var n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=11;break}return n={address:t,sig:i},e.next=4,(0,h.postData)("".concat(v,"del"),n);case 4:return e.sent,e.next=7,P();case 7:(0,h.showMessage)("Deleted"),q(),e.next=12;break;case 11:(0,h.showMessage)("Invalid signature, try again","error");case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,y.default)(f.default.mark(function e(){var t,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,n="",t.addresses.forEach(function(e){n+='\n                        <div class="wl-list-item">\n                            <span>'.concat(e,'</span><div class="wl-list-item-del" data-address="').concat(e,'">&times;</div>\n                        </div>\n                    ')}),document.getElementById("wl_list").innerHTML=n,e.abrupt("return",t);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,y.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return document.querySelectorAll(".wl-list-item-del").forEach(function(e){e.addEventListener("click",function(t){var n=e.getAttribute("data-address");console.log(n),C(n)})}),e.abrupt("return",!0);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,y.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b=new o.eth.Contract(m.ABI,"0x4B18663E93E6eece88F70BfF58E10EFb44f58397"),e.next=4,S(!0);case 4:setInterval((0,y.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:case"end":return e.stop()}},e)})),3e3),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),R=function(e){var t=document.getElementById("price"),n=document.getElementById("priceone"),r=0;c&&2==c&&(r=u?o.utils.fromWei(u):r),t&&(t.innerText=(0,h.round)(r*e,3).toString()),n&&(n.innerText=(0,h.round)(r,3).toString())},F=function(){var e=(0,y.default)(f.default.mark(function e(t){var n,r,u,l,p,m,w,T,M,E,_,S;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:if(e.t0=e.sent,!e.t0){e.next=5;break}e.t0=N();case 5:if(!e.t0){e.next=9;break}document.body.classList.replace("not-connected","is-connected"),e.next=10;break;case 9:document.body.classList.replace("is-connected","not-connected");case 10:n=document.querySelector("#wl_add"),r=document.querySelector("#connect_wallet_a"),u=document.querySelector("#connect_wallet"),document.querySelector("#signin"),l=document.querySelector("#plus"),p=document.querySelector("#minus"),m=document.querySelector("#setmax"),w=document.querySelectorAll("[data-role=mint]"),T=document.querySelectorAll("[data-role=set-sale]"),M=document.querySelectorAll("[data-role=withdraw]"),E=document.querySelectorAll("[data-role=setmax]"),_=document.querySelectorAll("[data-role=setprice]"),(S=document.querySelector("#exit"))&&S.addEventListener("click",function(e){e.preventDefault(),U()}),l&&l.addEventListener("click",function(e){e.preventDefault(),x<k&&(R(++x),document.getElementById("numtomint").innerText=x)}),p&&p.addEventListener("click",function(e){e.preventDefault(),x>1&&(R(--x),document.getElementById("numtomint").innerText=x)}),m&&m.addEventListener("click",function(e){e.preventDefault(),x=k,R(k),document.getElementById("numtomint").innerText=k}),E.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=o.utils.toBN(document.getElementById("maxsupplyval").value).add(o.utils.toBN(1));b.methods.setMaxElements(t).send({from:a}).then(function(e){var t=e.transactionHash;(0,h.showMessage)('TX confirmed! <a href="'.concat(L(s),"tx/").concat(t,'" target="_blank">View on Etherscan</a>'),"success")})})}),_.forEach(function(e){e.addEventListener("click",function(e){if(e.preventDefault(),d){var t=o.utils.toBN(o.utils.toWei(d.value,"ether"));console.log("wei: ",t),b.methods.setPrice(t).send({from:a}).then(function(e){var t=e.transactionHash;(0,h.showMessage)('TX confirmed! <a href="'.concat(L(s),"tx/").concat(t,'" target="_blank">View on Etherscan</a>'),"success")})}})}),M.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),b.methods.withdrawAll().send({from:a}).then(function(e){var t=e.transactionHash;(0,h.showMessage)('TX confirmed! <a href="'.concat(L(s),"tx/").concat(t,'" target="_blank">View on Etherscan</a>'),"success")})})}),T.forEach(function(e){e.addEventListener("click",function(){var t=(0,y.default)(f.default.mark(function t(n){var r;return f.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.getAttribute("data-id"),b){t.next=5;break}return t.next=5,j();case 5:c!=r?b.methods.setSaleState(r).send({from:a}).then(function(e){var t=e.transactionHash;(0,h.showMessage)('TX confirmed! <a href="'.concat(L(s),"tx/").concat(t,'" target="_blank">View on Etherscan</a>'),"success")}):(0,h.showMessage)("Sales state is already "+g[c],"error");case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}),w.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),0==c?(0,h.showMessage)("Sales is closed","error"):W(x)})}),n&&n.addEventListener("click",function(){var e=(0,y.default)(f.default.mark(function e(t){var n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!i){e.next=12;break}return n={addresses:document.getElementById("wl_textarea").value,sig:i},e.next=5,(0,h.postData)("".concat(v,"add"),n);case 5:return e.sent,e.next=8,P();case 8:(0,h.showMessage)("Success!"),q(),e.next=13;break;case 12:(0,h.showMessage)("Invalid signature, try again","error");case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),r&&r.addEventListener("click",function(){var e=(0,y.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O();case 3:return e.next=5,H();case 5:return e.next=7,P();case 7:return e.next=9,q();case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),u&&u.addEventListener("click",function(){var e=(0,y.default)(f.default.mark(function e(t){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O();case 3:return e.next=5,j();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 35:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function W(e){return G.apply(this,arguments)}function G(){return(G=(0,y.default)(f.default.mark(function e(t){var n,r,i,u,l,d,y;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=45;break}if(n=a.toLowerCase(),t=o.utils.toBN(t),e.prev=3,!(p.add(t).toNumber()>k)){e.next=6;break}throw new Error("Exceed mint limit");case 6:if(r=!1,2!=c){e.next=11;break}r="0x",e.next=18;break;case 11:return e.next=13,fetch("".concat(v,"user/").concat(n),{});case 13:return i=e.sent,e.next=16,i.json();case 16:null!==(u=e.sent).s&&(r=u.s);case 18:if(!1===r){e.next=38;break}return e.next=21,o.eth.getBalance(n);case 21:return l=e.sent,l=o.utils.toBN(l),e.next=25,b.methods.state.call().call();case 25:if(e.sent,!b.methods.hasOwnProperty("getPrice")){e.next=32;break}return e.next=29,b.methods.getPrice(t).call();case 29:e.t0=e.sent,e.next=33;break;case 32:e.t0=o.utils.toBN(0);case 33:d=e.t0,y=o.utils.toBN(d),-1==l.cmp(y)?(0,h.showMessage)("Insufficient funds","error"):(console.log("sig: ",r),b.methods.mint(t,r).send({from:a,value:y}).once("transactionHash",function(e){(0,h.showMessage)('TX sent! <a href="'.concat(L(s),"tx/").concat(e,'" target="_blank">View on Etherscan</a>'),"success")}).then(function(e){var t=e.transactionHash;(0,h.showMessage)('TX confirmed! <a href="'.concat(L(s),"tx/").concat(t,'" target="_blank">View on Etherscan</a>'),"success")})),e.next=39;break;case 38:(0,h.showMessage)("You are not whitelisted","warning");case 39:e.next=45;break;case 41:e.prev=41,e.t1=e.catch(3),(0,h.showMessage)(e.t1.toString(),"error"),console.error(e.t1);case 45:case"end":return e.stop()}},e,null,[[3,41]])}))).apply(this,arguments)}var H=function(){var e=(0,y.default)(f.default.mark(function e(){var t;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("signauth"),e.next=3,M(a,a);case 3:return t=e.sent,console.log("Sig is:",t),document.querySelector("#sig").value=t,i=t,(0,h.showMessage)(t,"warning"),e.abrupt("return",t);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,y.default)(f.default.mark(function e(){return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=console,e.next=3,o.eth.setProvider(null);case 3:e.t1=e.sent,e.t0.log.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();(0,y.default)(f.default.mark(function e(){var t,n;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_()){e.next=33;break}return window.ethereum.on("accountsChanged",function(e){A(e)}),window.ethereum.on("chainChanged",function(e){window.location.reload()}),window.ethereum.on("disconnect",function(e){console.log("disconnect",e)}),document.addEventListener("DOMContentLoaded",F),e.next=7,B();case 7:return t=e.sent,e.next=10,N();case 10:if((n=e.sent)||!t){e.next=15;break}return(0,h.showMessage)("Wrong chain (".concat(w[s],"), connect to ")+w[5],"error",2e3),e.next=15,I();case 15:if(console.log("wConn ",t),!t||!n){e.next=33;break}return e.next=19,O();case 19:if(!location.pathname.includes("manage.html")){e.next=30;break}return console.log("manage"),e.next=23,j();case 23:return e.next=25,H();case 25:return e.next=27,P();case 27:q(),e.next=33;break;case 30:return console.log("Usual page"),e.next=33,j();case 33:document.addEventListener("DOMContentLoaded",function(){_()||(0,h.showMessage)('You need to install <a href="https://metamask.io/" target="_blank">MetaMask</a> first!',"error",0)});case 34:case"end":return e.stop()}},e)}))()},{"./abi":6,"./common":7,"@babel/runtime/helpers/asyncToGenerator":1,"@babel/runtime/helpers/interopRequireDefault":2,"@babel/runtime/regenerator":4}]},{},[8]);
